<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="data:text/css,%0A%40font%2Dface%20%7B%0Afont%2Dfamily%3A%20octicons%2Dlink%3B%0Asrc%3A%20url%28data%3Afont%2Fwoff%3Bcharset%3Dutf%2D8%3Bbase64%2Cd09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM%2B8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB%2FaFGpk3jaTY6xa8JAGMW%2FO62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v%2Bk%2F0an2i%2BitHDw3v2%2B9%2BDBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3%2FI7AtxEJLtzzuZfI%2BVVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy%2FLt7Kc%2B0vWY%2FgAgIIEqAN9we0pwKXreiMasxvabDQMM4riO%2BqxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw%2Bymhce7vwM9jSqO8JyVd5RH9gyTt2%2BJ%2FyUmYlIR0s04n6%2B7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv%2FocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi%2BW2%2BMjCzMIDApSwvXzC97Z4Ig8N%2FBxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh%2F8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT%2BAEjAwuDFpBmA9KMDEwMCh9i%2Fv8H8sH0%2F4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9%2FlqYwOGZxeUelN2U2R6%2BcArgtCJpauW7UQBqnFkUsjAY%2FkOU1cP%2BDAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl%2BvvmM%2FbyA48e6tWrKArm4ZJlCbdsrxksL1AwWn%2FyBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO%2F%2FsdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd%2F89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF%2B9JOS0nbaaYDCQfwCJ7Au3AHj%2BLO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm%2BEBXuAbHmIMSRMs%2B4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL%2BhD7C1xoaHeLJSEao0FEW14ckxC%2BTU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13%2F%2Blm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl%2B9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O%2FAdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB%2F%2F%2FAA8AAQAAAAAAAAAAAAAAAAABAAAAAA%3D%3D%29%20format%28%27woff%27%29%3B%0A%7D%0Abody%20%7B%0A%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A%20100%25%3B%0Atext%2Dsize%2Dadjust%3A%20100%25%3B%0Acolor%3A%20%23333%3B%0Afont%2Dfamily%3A%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20%22Segoe%20UI%22%2C%20Arial%2C%20freesans%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0Afont%2Dsize%3A%2016px%3B%0Aline%2Dheight%3A%201%2E6%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%0A%7D%0Aa%20%7B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Aa%3Aactive%2C%0Aa%3Ahover%20%7B%0Aoutline%3A%200%3B%0A%7D%0Astrong%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%202em%3B%0Amargin%3A%200%2E67em%200%3B%0A%7D%0Aimg%20%7B%0Aborder%3A%200%3B%0A%7D%0Ahr%20%7B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Aheight%3A%200%3B%0A%7D%0Apre%20%7B%0Aoverflow%3A%20auto%3B%0A%7D%0Acode%2C%0Akbd%2C%0Apre%20%7B%0Afont%2Dfamily%3A%20monospace%2C%20monospace%3B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ainput%20%7B%0Acolor%3A%20inherit%3B%0Afont%3A%20inherit%3B%0Amargin%3A%200%3B%0A%7D%0Ahtml%20input%5Bdisabled%5D%20%7B%0Acursor%3A%20default%3B%0A%7D%0Ainput%20%7B%0Aline%2Dheight%3A%20normal%3B%0A%7D%0Ainput%5Btype%3D%22checkbox%22%5D%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0Apadding%3A%200%3B%0A%7D%0Atable%20%7B%0Aborder%2Dcollapse%3A%20collapse%3B%0Aborder%2Dspacing%3A%200%3B%0A%7D%0Atd%2C%0Ath%20%7B%0Apadding%3A%200%3B%0A%7D%0A%2A%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0A%7D%0Ainput%20%7B%0Afont%3A%2013px%20%2F%201%2E4%20Helvetica%2C%20arial%2C%20nimbussansl%2C%20liberationsans%2C%20freesans%2C%20clean%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%234078c0%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%2C%0Aa%3Aactive%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%200%3B%0Amargin%3A%2015px%200%3B%0Aoverflow%3A%20hidden%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23ddd%3B%0A%7D%0Ahr%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ahr%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%2015px%3B%0Amargin%2Dbottom%3A%2015px%3B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%2030px%3B%0A%7D%0Ah2%20%7B%0Afont%2Dsize%3A%2021px%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%2016px%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%2014px%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%2011px%3B%0A%7D%0Ablockquote%20%7B%0Amargin%3A%200%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Aol%20ol%2C%0Aul%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Droman%3B%0A%7D%0Aul%20ul%20ol%2C%0Aul%20ol%20ol%2C%0Aol%20ul%20ol%2C%0Aol%20ol%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%0A%7D%0Add%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0Afont%3A%2012px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0A%7D%0A%2Eselect%3A%3A%2Dms%2Dexpand%20%7B%0Aopacity%3A%200%3B%0A%7D%0A%2Eocticon%20%7B%0Afont%3A%20normal%20normal%20normal%2016px%2F1%20octicons%2Dlink%3B%0Adisplay%3A%20inline%2Dblock%3B%0Atext%2Ddecoration%3A%20none%3B%0Atext%2Drendering%3A%20auto%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0A%2Dmoz%2Dosx%2Dfont%2Dsmoothing%3A%20grayscale%3B%0A%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%2Dms%2Duser%2Dselect%3A%20none%3B%0Auser%2Dselect%3A%20none%3B%0A%7D%0A%2Eocticon%2Dlink%3Abefore%20%7B%0Acontent%3A%20%27%5Cf05c%27%3B%0A%7D%0A%2Emarkdown%2Dbody%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%20%21important%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%20%21important%3B%0A%7D%0Aa%3Anot%28%5Bhref%5D%29%20%7B%0Acolor%3A%20inherit%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0A%2Eanchor%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%2Dright%3A%202px%3B%0Amargin%2Dleft%3A%20%2D18px%3B%0A%7D%0A%2Eanchor%3Afocus%20%7B%0Aoutline%3A%20none%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%2016px%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%201%2E4%3B%0A%7D%0Ah1%20%2Eocticon%2Dlink%2C%0Ah2%20%2Eocticon%2Dlink%2C%0Ah3%20%2Eocticon%2Dlink%2C%0Ah4%20%2Eocticon%2Dlink%2C%0Ah5%20%2Eocticon%2Dlink%2C%0Ah6%20%2Eocticon%2Dlink%20%7B%0Acolor%3A%20%23000%3B%0Avertical%2Dalign%3A%20middle%3B%0Avisibility%3A%20hidden%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%2C%0Ah2%3Ahover%20%2Eanchor%2C%0Ah3%3Ahover%20%2Eanchor%2C%0Ah4%3Ahover%20%2Eanchor%2C%0Ah5%3Ahover%20%2Eanchor%2C%0Ah6%3Ahover%20%2Eanchor%20%7B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah2%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah3%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah4%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah5%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah6%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%20%7B%0Avisibility%3A%20visible%3B%0A%7D%0Ah1%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%202%2E25em%3B%0Aline%2Dheight%3A%201%2E2%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah1%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah2%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%201%2E75em%3B%0Aline%2Dheight%3A%201%2E225%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah2%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%201%2E5em%3B%0Aline%2Dheight%3A%201%2E43%3B%0A%7D%0Ah3%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%201%2E25em%3B%0A%7D%0Ah4%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ah5%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%201em%3B%0Acolor%3A%20%23777%3B%0A%7D%0Ah6%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ap%2C%0Ablockquote%2C%0Aul%2C%0Aol%2C%0Adl%2C%0Atable%2C%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%204px%3B%0Apadding%3A%200%3B%0Amargin%3A%2016px%200%3B%0Abackground%2Dcolor%3A%20%23e7e7e7%3B%0Aborder%3A%200%20none%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%2Dleft%3A%202em%3B%0A%7D%0Aul%20ul%2C%0Aul%20ol%2C%0Aol%20ol%2C%0Aol%20ul%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Ali%3Ep%20%7B%0Amargin%2Dtop%3A%2016px%3B%0A%7D%0Adl%20%7B%0Apadding%3A%200%3B%0A%7D%0Adl%20dt%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%2016px%3B%0Afont%2Dsize%3A%201em%3B%0Afont%2Dstyle%3A%20italic%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adl%20dd%20%7B%0Apadding%3A%200%2016px%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ablockquote%20%7B%0Apadding%3A%200%2015px%3B%0Acolor%3A%20%23777%3B%0Aborder%2Dleft%3A%204px%20solid%20%23ddd%3B%0A%7D%0Ablockquote%3E%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Ablockquote%3E%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Atable%20%7B%0Adisplay%3A%20block%3B%0Awidth%3A%20100%25%3B%0Aoverflow%3A%20auto%3B%0Aword%2Dbreak%3A%20normal%3B%0Aword%2Dbreak%3A%20keep%2Dall%3B%0A%7D%0Atable%20th%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Atable%20th%2C%0Atable%20td%20%7B%0Apadding%3A%206px%2013px%3B%0Aborder%3A%201px%20solid%20%23ddd%3B%0A%7D%0Atable%20tr%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Aborder%2Dtop%3A%201px%20solid%20%23ccc%3B%0A%7D%0Atable%20tr%3Anth%2Dchild%282n%29%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0A%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%3B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0A%7D%0Acode%20%7B%0Apadding%3A%200%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%2085%25%3B%0Abackground%2Dcolor%3A%20rgba%280%2C0%2C0%2C0%2E04%29%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0Acode%3Abefore%2C%0Acode%3Aafter%20%7B%0Aletter%2Dspacing%3A%20%2D0%2E2em%3B%0Acontent%3A%20%22%5C00a0%22%3B%0A%7D%0Apre%3Ecode%20%7B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%20100%25%3B%0Aword%2Dbreak%3A%20normal%3B%0Awhite%2Dspace%3A%20pre%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0A%2Ehighlight%20%7B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0A%2Ehighlight%20pre%2C%0Apre%20%7B%0Apadding%3A%2016px%3B%0Aoverflow%3A%20auto%3B%0Afont%2Dsize%3A%2085%25%3B%0Aline%2Dheight%3A%201%2E45%3B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0A%2Ehighlight%20pre%20%7B%0Amargin%2Dbottom%3A%200%3B%0Aword%2Dbreak%3A%20normal%3B%0A%7D%0Apre%20%7B%0Aword%2Dwrap%3A%20normal%3B%0A%7D%0Apre%20code%20%7B%0Adisplay%3A%20inline%3B%0Amax%2Dwidth%3A%20initial%3B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Aoverflow%3A%20initial%3B%0Aline%2Dheight%3A%20inherit%3B%0Aword%2Dwrap%3A%20normal%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0Apre%20code%3Abefore%2C%0Apre%20code%3Aafter%20%7B%0Acontent%3A%20normal%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%2Dsize%3A%2011px%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Epl%2Dc%20%7B%0Acolor%3A%20%23969896%3B%0A%7D%0A%2Epl%2Dc1%2C%0A%2Epl%2Ds%20%2Epl%2Dv%20%7B%0Acolor%3A%20%230086b3%3B%0A%7D%0A%2Epl%2De%2C%0A%2Epl%2Den%20%7B%0Acolor%3A%20%23795da3%3B%0A%7D%0A%2Epl%2Ds%20%2Epl%2Ds1%2C%0A%2Epl%2Dsmi%20%7B%0Acolor%3A%20%23333%3B%0A%7D%0A%2Epl%2Dent%20%7B%0Acolor%3A%20%2363a35c%3B%0A%7D%0A%2Epl%2Dk%20%7B%0Acolor%3A%20%23a71d5d%3B%0A%7D%0A%2Epl%2Dpds%2C%0A%2Epl%2Ds%2C%0A%2Epl%2Ds%20%2Epl%2Dpse%20%2Epl%2Ds1%2C%0A%2Epl%2Dsr%2C%0A%2Epl%2Dsr%20%2Epl%2Dcce%2C%0A%2Epl%2Dsr%20%2Epl%2Dsra%2C%0A%2Epl%2Dsr%20%2Epl%2Dsre%20%7B%0Acolor%3A%20%23183691%3B%0A%7D%0A%2Epl%2Dv%20%7B%0Acolor%3A%20%23ed6a43%3B%0A%7D%0A%2Epl%2Did%20%7B%0Acolor%3A%20%23b52a1d%3B%0A%7D%0A%2Epl%2Dii%20%7B%0Abackground%2Dcolor%3A%20%23b52a1d%3B%0Acolor%3A%20%23f8f8f8%3B%0A%7D%0A%2Epl%2Dsr%20%2Epl%2Dcce%20%7B%0Acolor%3A%20%2363a35c%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dml%20%7B%0Acolor%3A%20%23693a17%3B%0A%7D%0A%2Epl%2Dmh%2C%0A%2Epl%2Dmh%20%2Epl%2Den%2C%0A%2Epl%2Dms%20%7B%0Acolor%3A%20%231d3e81%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmq%20%7B%0Acolor%3A%20%23008080%3B%0A%7D%0A%2Epl%2Dmi%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0A%2Epl%2Dmb%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmd%20%7B%0Abackground%2Dcolor%3A%20%23ffecec%3B%0Acolor%3A%20%23bd2c00%3B%0A%7D%0A%2Epl%2Dmi1%20%7B%0Abackground%2Dcolor%3A%20%23eaffea%3B%0Acolor%3A%20%2355a532%3B%0A%7D%0A%2Epl%2Dmdr%20%7B%0Acolor%3A%20%23795da3%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmo%20%7B%0Acolor%3A%20%231d3e81%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%3A%2011px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%2B%2Etask%2Dlist%2Ditem%20%7B%0Amargin%2Dtop%3A%203px%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20input%20%7B%0Amargin%3A%200%200%2E35em%200%2E25em%20%2D1%2E6em%3B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%3Achecked%2B%2Eradio%2Dlabel%20%7B%0Az%2Dindex%3A%201%3B%0Aposition%3A%20relative%3B%0Aborder%2Dcolor%3A%20%234078c0%3B%0A%7D%0A%2EsourceLine%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0Acode%20%2Ekw%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Edt%20%7B%20color%3A%20%23ed6a43%3B%20%7D%0Acode%20%2Edv%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ebn%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Efl%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ech%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Est%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eco%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Eot%20%7B%20color%3A%20%230086b3%3B%20%7D%0Acode%20%2Eal%20%7B%20color%3A%20%23a61717%3B%20%7D%0Acode%20%2Efu%20%7B%20color%3A%20%2363a35c%3B%20%7D%0Acode%20%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%0Acode%20%2Ewa%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ecn%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Esc%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Evs%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Ess%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eim%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eva%20%7Bcolor%3A%20%23008080%3B%20%7D%0Acode%20%2Ecf%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eop%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ebu%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eex%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Epp%20%7B%20color%3A%20%23999999%3B%20%7D%0Acode%20%2Eat%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Edo%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Ean%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ecv%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ein%20%7B%20color%3A%20%23008080%3B%20%7D%0A">
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="getting-data-from-secs-edgar">Getting Data from SEC’s EDGAR</h1>
<p>Matthias Uckert 18 April, 2021</p>
<ul>
<li><a href="#description">Description</a></li>
<li><a href="#script-setup">Script Setup</a></li>
<li><a href="#code">Code</a>
<ul>
<li><a href="#paths">Paths</a></li>
<li><a href="#get-fortune-500-companies">Get Fortune 500 Companies</a></li>
<li><a href="#get-company-index-links">Get Company Index-Links</a></li>
<li><a href="#get-company-details">Get Company Details</a></li>
<li><a href="#select-documents-for-download">Select Documents for Download</a></li>
<li><a href="#download-documents">Download Documents</a></li>
<li><a href="#save-files">Save Files</a></li>
</ul></li>
</ul>
<h1 id="description">Description</h1>
<p>This script</p>
<h1 id="script-setup">Script Setup</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse); <span class="fu">library</span>(edgarWebR); <span class="fu">library</span>(lubridate); <span class="fu">library</span>(here)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(furrr); <span class="fu">library</span>(stringi); <span class="fu">library</span>(textstem); <span class="fu">library</span>(tidytext)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor); <span class="fu">library</span>(tools); <span class="fu">library</span>(patchwork); <span class="fu">library</span>(scales)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools); <span class="fu">library</span>(kableExtra)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;1_code/00_functions/f-all.R&quot;</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;1_code/00_functions/f-get_edgar_data.R&quot;</span>)</span></code></pre></div>
<h1 id="code">Code</h1>
<h2 id="paths">Paths</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>lst_paths <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">dir_main    =</span> <span class="st">&quot;2_output/01_get_edgar_data/&quot;</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">path_filing =</span> <span class="st">&quot;2_output/01_get_edgar_data/edgar_filings.rds&quot;</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">path_detail =</span> <span class="st">&quot;2_output/01_get_edgar_data/edgar_details.rds&quot;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">create_dirs</span>()</span></code></pre></div>
<h2 id="get-fortune-500-companies">Get Fortune 500 Companies</h2>
<p>Her we use an open source data repository ‘datahub.io’ to retrieve the <u><strong>fortune 500 companies</strong></u> with some financial information. We won’t use the complete data set, but filter for the top 100 companies (using less companies will let the code run faster) with the highest market capitalization. You can change the number of companies by changing the integer vector: <strong>.n_companies</strong> in the chunk below.</p>
<p>Throughout this script we will use custom functions to download and transform data. All the script specific functions are stored in this folder: <strong>1_code/00_functions/f-get_edgar_data.R</strong></p>
<p><strong>Note:</strong> Look at the function <u><strong>get_f500()</strong></u></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>.n_companies <span class="ot">&lt;-</span> <span class="dv">100</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(get_f500)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># browseURL(&quot;https://datahub.io/core/s-and-p-500-companies-financials#r&quot;)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>tab_f500_all <span class="ot">&lt;-</span> <span class="fu">get_f500</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Function from the janitor package, makes nice column names</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Arrange, so that the highest market cap appears first in the dataframe</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(market_cap)) </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Select only the firms with the highest market cap</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>tab_f500_t10 <span class="ot">&lt;-</span> <span class="fu">slice</span>(tab_f500_all, <span class="dv">1</span><span class="sc">:</span>.n_companies)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick look at the companies we use</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(tab_f500_t10, symbol, name, sector)</span></code></pre></div>
<pre><code>##     symbol                             name                     sector
## 1     AAPL                       Apple Inc.     Information Technology
## 2    GOOGL             Alphabet Inc Class A     Information Technology
## 3     GOOG             Alphabet Inc Class C     Information Technology
## 4     MSFT                  Microsoft Corp.     Information Technology
## 5     AMZN                   Amazon.com Inc     Consumer Discretionary
## 6       FB                   Facebook, Inc.     Information Technology
## 7      JPM             JPMorgan Chase &amp; Co.                 Financials
## 8      JNJ                Johnson &amp; Johnson                Health Care
## 9      XOM                Exxon Mobil Corp.                     Energy
## 10     BAC             Bank of America Corp                 Financials
## 11     WMT                  Wal-Mart Stores           Consumer Staples
## 12     WFC                      Wells Fargo                 Financials
## 13       V                        Visa Inc.     Information Technology
## 14   BRK.B               Berkshire Hathaway                 Financials
## 15       T                         AT&amp;T Inc Telecommunication Services
## 16      HD                       Home Depot     Consumer Discretionary
## 17     CVX                    Chevron Corp.                     Energy
## 18     UNH         United Health Group Inc.                Health Care
## 19    INTC                      Intel Corp.     Information Technology
## 20     PFE                      Pfizer Inc.                Health Care
## 21      VZ           Verizon Communications Telecommunication Services
## 22      PG                 Procter &amp; Gamble           Consumer Staples
## 23      BA                   Boeing Company                Industrials
## 24    ORCL                     Oracle Corp.     Information Technology
## 25    CSCO                    Cisco Systems     Information Technology
## 26       C                   Citigroup Inc.                 Financials
## 27      KO          Coca-Cola Company (The)           Consumer Staples
## 28      MA                  Mastercard Inc.     Information Technology
## 29   CMCSA                    Comcast Corp.     Consumer Discretionary
## 30    ABBV                      AbbVie Inc.                Health Care
## 31    DWDP                        DowDuPont                  Materials
## 32     PEP                     PepsiCo Inc.           Consumer Staples
## 33     DIS          The Walt Disney Company     Consumer Discretionary
## 34      PM      Philip Morris International           Consumer Staples
## 35     MRK                      Merck &amp; Co.                Health Care
## 36     IBM  International Business Machines     Information Technology
## 37     MMM                       3M Company                Industrials
## 38    NVDA               Nvidia Corporation     Information Technology
## 39      GE                 General Electric                Industrials
## 40     MCD                 McDonald&#39;s Corp.     Consumer Discretionary
## 41    AMGN                        Amgen Inc                Health Care
## 42      MO                 Altria Group Inc           Consumer Staples
## 43    NFLX                     Netflix Inc.     Information Technology
## 44     HON             Honeywell Int&#39;l Inc.                Industrials
## 45     MDT                    Medtronic plc                Health Care
## 46    GILD                  Gilead Sciences                Health Care
## 47     NKE                             Nike     Consumer Discretionary
## 48     UTX              United Technologies                Industrials
## 49     BMY             Bristol-Myers Squibb                Health Care
## 50     ABT              Abbott Laboratories                Health Care
## 51     UNP                    Union Pacific                Industrials
## 52     TXN                Texas Instruments     Information Technology
## 53     ACN                    Accenture plc     Information Technology
## 54     LMT            Lockheed Martin Corp.                Industrials
## 55      MS                   Morgan Stanley                 Financials
## 56      GS              Goldman Sachs Group                 Financials
## 57     SLB                Schlumberger Ltd.                     Energy
## 58     UPS            United Parcel Service                Industrials
## 59    QCOM                    QUALCOMM Inc.     Information Technology
## 60    ADBE                Adobe Systems Inc     Information Technology
## 61    AVGO                         Broadcom     Information Technology
## 62     CAT                 Caterpillar Inc.                Industrials
## 63    PCLN                Priceline.com Inc     Consumer Discretionary
## 64     USB                     U.S. Bancorp                 Financials
## 65    PYPL                           PayPal     Information Technology
## 66     KHC                   Kraft Heinz Co           Consumer Staples
## 67    CHTR           Charter Communications     Consumer Discretionary
## 68     BLK                        BlackRock                 Financials
## 69     LLY                Lilly (Eli) &amp; Co.                Health Care
## 70     TMO         Thermo Fisher Scientific                Health Care
## 71     LOW                      Lowe&#39;s Cos.     Consumer Discretionary
## 72    COST           Costco Wholesale Corp.           Consumer Staples
## 73     AXP              American Express Co                 Financials
## 74     CRM                   Salesforce.com     Information Technology
## 75    SBUX                  Starbucks Corp.     Consumer Discretionary
## 76     CVS                       CVS Health           Consumer Staples
## 77    CELG                    Celgene Corp.                Health Care
## 78     TWX                 Time Warner Inc.     Consumer Discretionary
## 79     PNC           PNC Financial Services                 Financials
## 80     WBA         Walgreens Boots Alliance           Consumer Staples
## 81    SCHW       Charles Schwab Corporation                 Financials
## 82     NEE                   NextEra Energy                  Utilities
## 83    BIIB                      Biogen Inc.                Health Care
## 84      CB                    Chubb Limited                 Financials
## 85     FDX                FedEx Corporation                Industrials
## 86     DHR                    Danaher Corp.                Health Care
## 87     FOX Twenty-First Century Fox Class B     Consumer Discretionary
## 88    MDLZ           Mondelez International           Consumer Staples
## 89     COP                   ConocoPhillips                     Energy
## 90      GD                 General Dynamics                Industrials
## 91      CL                Colgate-Palmolive           Consumer Staples
## 92      GM                   General Motors     Consumer Discretionary
## 93    ANTM                      Anthem Inc.                Health Care
## 94     EOG                    EOG Resources                     Energy
## 95     AMT            American Tower Corp A                Real Estate
## 96     AET                        Aetna Inc                Health Care
## 97     RTN                     Raytheon Co.                Industrials
## 98     NOC           Northrop Grumman Corp.                Industrials
## 99     SYK                    Stryker Corp.                Health Care
## 100    AGN                    Allergan, Plc                Health Care</code></pre>
<h2 id="get-company-index-links">Get Company Index-Links</h2>
<p>Retrieve EDGAR Index-Links for Fortune 500 company set. The first step is to retrieve the index-links for the fortune 500 companies we selected in the first step. Downloading data from the web is always tricky. We can run into request limits, client or server side issues. So thinking about how to set up a download is crucial in order to make the analysis</p>
<p>We use a custom function: <strong>map_company_filings()</strong> to retrieve the Index Links from EDGAR.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(map_company_filings)</span></span></code></pre></div>
<p>Here we use a really simple caching procedure so that we don’t have to re-run the whole expression if we already extracted index-links.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(lst_paths<span class="sc">$</span>path_filing)) {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  .prc <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">symbol =</span> <span class="fu">character</span>(), <span class="at">.rows =</span> <span class="dv">0</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  .prc <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(lst_paths<span class="sc">$</span>path_filing)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>tab_f500_use <span class="ot">&lt;-</span> <span class="fu">filter</span>(tab_f500_t10, <span class="sc">!</span>symbol <span class="sc">%in%</span> .prc<span class="sc">$</span>symbol)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">nrow</span>(tab_f500_use) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  lst_filings <span class="ot">&lt;-</span> <span class="fu">map_company_filings</span>(</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">.tickers =</span> tab_f500_use<span class="sc">$</span>symbol, <span class="at">.type =</span> <span class="st">&quot;10-K&quot;</span>, <span class="at">.count =</span> <span class="dv">100</span>, <span class="at">.sleep =</span> .<span class="dv">2</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  tab_filings <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(.prc, <span class="fu">bind_rows</span>(lst_filings<span class="sc">$</span>result, <span class="at">.id =</span> <span class="st">&quot;symbol&quot;</span>))</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_rds</span>(tab_filings, lst_paths<span class="sc">$</span>path_filing)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  tab_filings <span class="ot">&lt;-</span> .prc</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [=======================&gt;-----------------------------------------------------------------------] 25%
## [===================================&gt;-----------------------------------------------------------] 38%
## [===============================================&gt;-----------------------------------------------] 50%
## [==========================================================&gt;------------------------------------] 62%
## [======================================================================&gt;------------------------] 75%
## [==================================================================================&gt;------------] 88%
## [===============================================================================================] 100%

## [1] &quot;Results: 0&quot;
## [1] &quot;Errors:  8&quot;</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>tab_filings <span class="ot">&lt;-</span> tab_filings <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">stri_replace_all_fixed</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">basename</span>(href), <span class="fu">paste0</span>(<span class="st">&quot;.&quot;</span>, <span class="fu">file_ext</span>(href)), <span class="st">&quot;&quot;</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(id, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>In total we got 8 errors.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(tab_f500_t10, <span class="sc">!</span>symbol <span class="sc">%in%</span> <span class="fu">read_rds</span>(lst_paths<span class="sc">$</span>path_filing)<span class="sc">$</span>symbol)</span></code></pre></div>
<pre><code>##   symbol                name                 sector   price price_earnings dividend_yield
## 1  BRK.B  Berkshire Hathaway             Financials  191.42          30.43       0.000000
## 2   DWDP           DowDuPont              Materials   68.21          49.43       2.152975
## 3    UTX United Technologies            Industrials  127.48          19.26       2.121694
## 4   PCLN   Priceline.com Inc Consumer Discretionary 1806.06          24.26       0.000000
## 5   CELG       Celgene Corp.            Health Care   91.02          13.27       0.000000
## 6    TWX    Time Warner Inc. Consumer Discretionary   93.02          15.35       1.692777
## 7    RTN        Raytheon Co.            Industrials  198.74          25.78       1.561276
## 8    AGN       Allergan, Plc            Health Care  164.20          10.65       1.643289
##   earnings_share x52_week_low x52_week_high   market_cap      ebitda price_sales price_book
## 1           9.76       217.62        160.93 261401203633           0    1.432823       1.58
## 2           1.59        77.08         64.01 165203312427  5250000000    2.692239       1.54
## 3           5.70       139.24        107.05 105387272474 10584000000    1.732412       3.40
## 4          42.66      2067.99       1589.00  91817448863  4803487000    9.176564       6.92
## 5           3.58       147.17         92.85  74921079154  5233000000    5.830071       7.49
## 6           6.62       103.90         85.88  74185800000  7671000000    2.373599       2.73
## 7           6.95       213.45        147.86  59066255840  3868000000    2.293833       5.28
## 8          38.35       256.80        160.07  56668833898 -2888100000    4.820115       0.83
##                                                           sec_filings
## 1 http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;CIK=BRK.B
## 2  http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;CIK=DWDP
## 3   http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;CIK=UTX
## 4  http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;CIK=PCLN
## 5  http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;CIK=CELG
## 6   http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;CIK=TWX
## 7   http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;CIK=RTN
## 8   http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;CIK=AGN</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">browseURL</span>(<span class="st">&quot;https://www.sec.gov/cgi-bin/browse-edgar?company=BRK.B&amp;match=&amp;filenum=&amp;State=&amp;Country=&amp;SIC=&amp;myowner=exclude&amp;action=getcompany&quot;</span>)</span></code></pre></div>
<p>Let’s quickly look at the result. (There are several ways to do this. For small Dataframes we can simply use the RStudio build-in viewer)</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(tab_filings, <span class="dv">100</span>)</span></code></pre></div>
<pre><code>## Rows: 2,364
## Columns: 13
## $ symbol           &lt;chr&gt; &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;~
## $ accession_number &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ act              &lt;chr&gt; &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;~
## $ file_number      &lt;chr&gt; &quot;001-36743&quot;, &quot;001-36743&quot;, &quot;001-36743&quot;, &quot;001-36743&quot;, &quot;001-36743&quot;, &quot;001-367~
## $ filing_date      &lt;dttm&gt; 2020-10-30, 2019-10-31, 2018-11-05, 2017-11-03, 2016-10-26, 2015-10-28, ~
## $ accepted_date    &lt;dttm&gt; 2020-10-29, 2019-10-30, 2018-11-05, 2017-11-03, 2016-10-26, 2015-10-28, ~
## $ href             &lt;chr&gt; &quot;https://www.sec.gov/Archives/edgar/data/320193/000032019320000096/000032~
## $ type             &lt;chr&gt; &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;~
## $ film_number      &lt;chr&gt; &quot;201273977&quot;, &quot;191181423&quot;, &quot;181158788&quot;, &quot;171174673&quot;, &quot;161953070&quot;, &quot;1511806~
## $ form_name        &lt;chr&gt; &quot;Annual report [Section 13 and 15(d), not S-K Item 405]&quot;, &quot;Annual report ~
## $ description      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ size             &lt;chr&gt; &quot;12 MB&quot;, &quot;12 MB&quot;, &quot;12 MB&quot;, &quot;14 MB&quot;, &quot;13 MB&quot;, &quot;9 MB&quot;, &quot;12 MB&quot;, &quot;11 MB&quot;, &quot;9~
## $ id               &lt;chr&gt; &quot;0000320193-20-000096-index&quot;, &quot;0000320193-19-000119-index&quot;, &quot;0000320193-1~</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(tab_filings)</span></span></code></pre></div>
<h2 id="get-company-details">Get Company Details</h2>
<p>After we got the index links from EDGAR, we proceed by scraping filing details. Again, we use a custom function to do this <strong>map_filing_details()</strong> and use a simple caching algorithm.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(lst_paths<span class="sc">$</span>path_detail)) {</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  .prc <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">id =</span> <span class="fu">character</span>(), <span class="at">.rows =</span> <span class="dv">0</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  .prc <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(lst_paths<span class="sc">$</span>path_detail)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>tab_filings_use <span class="ot">&lt;-</span> <span class="fu">filter</span>(tab_filings, <span class="sc">!</span>id <span class="sc">%in%</span> .prc<span class="sc">$</span>id)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">nrow</span>(tab_filings_use) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  lst_details <span class="ot">&lt;-</span> <span class="fu">map_filing_details</span>(</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.id =</span> tab_filings_use<span class="sc">$</span>id, <span class="at">.hrefs =</span> tab_filings_use<span class="sc">$</span>href, <span class="at">.sleep =</span> <span class="dv">1</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  lst_details <span class="ot">&lt;-</span> <span class="fu">transpose</span>(lst_details<span class="sc">$</span>result)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  lst_details <span class="ot">&lt;-</span> <span class="fu">map</span>(lst_details, <span class="sc">~</span> <span class="fu">bind_rows</span>(.x, <span class="at">.id =</span> <span class="st">&quot;id&quot;</span>))</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  tab_details <span class="ot">&lt;-</span> <span class="fu">reduce</span>(lst_details, left_join, <span class="at">by =</span> <span class="st">&quot;id&quot;</span>)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  tab_details <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(.prc, .tab_details)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_rds</span>(.tab_details, lst_paths<span class="sc">$</span>path_detail)</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  tab_details <span class="ot">&lt;-</span> .prc</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(tab_filings_use)</span></code></pre></div>
<p>From the 2,364 index links we retrieved in the last step, we got 89,302 different document links. It’s important to notice, that such data retrieval tasks often result in very large datasets.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(tab_details, <span class="dv">100</span>)</span></code></pre></div>
<pre><code>## Rows: 89,302
## Columns: 38
## $ id                          &lt;chr&gt; &quot;0000320193-20-000096-index&quot;, &quot;0000320193-20-000096-index&quot;, &quot;0~
## $ type.x                      &lt;chr&gt; &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;~
## $ description.x               &lt;chr&gt; &quot;Annual report [Section 13 and 15(d), not S-K Item 405]:&quot;, &quot;An~
## $ accession_number            &lt;chr&gt; &quot;0000320193-20-000096&quot;, &quot;0000320193-20-000096&quot;, &quot;0000320193-20~
## $ filing_date                 &lt;dttm&gt; 2020-10-30, 2020-10-30, 2020-10-30, 2020-10-30, 2020-10-30, 2~
## $ accepted_date               &lt;dttm&gt; 2020-10-29 18:06:25, 2020-10-29 18:06:25, 2020-10-29 18:06:25~
## $ documents                   &lt;int&gt; 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99~
## $ period_date                 &lt;dttm&gt; 2020-09-26, 2020-09-26, 2020-09-26, 2020-09-26, 2020-09-26, 2~
## $ changed_date                &lt;dttm&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ effective_date              &lt;dttm&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N~
## $ bytes                       &lt;int&gt; 12502600, 12502600, 12502600, 12502600, 12502600, 12502600, 12~
## $ seq                         &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 15, 16, NA, 10, 11, 12, 13, 14, 17,~
## $ description.y               &lt;chr&gt; &quot;10-K&quot;, &quot;EX-4.1&quot;, &quot;EX-10.16&quot;, &quot;EX-10.17&quot;, &quot;EX-21.1&quot;, &quot;EX-23.1&quot;~
## $ document                    &lt;chr&gt; &quot;aapl-20200926.htm&quot;, &quot;a10-kexhibit419262020.htm&quot;, &quot;a10-kexhibi~
## $ href                        &lt;chr&gt; &quot;https://www.sec.gov/Archives/edgar/data/320193/00003201932000~
## $ type.y                      &lt;chr&gt; &quot;10-K&quot;, &quot;EX-4.1&quot;, &quot;EX-10.16&quot;, &quot;EX-10.17&quot;, &quot;EX-21.1&quot;, &quot;EX-23.1&quot;~
## $ size                        &lt;int&gt; 2467306, 123356, 56918, 74685, 9230, 5991, 10582, 10618, 8476,~
## $ mailing_address_1           &lt;chr&gt; &quot;ONE APPLE PARK WAY&quot;, &quot;ONE APPLE PARK WAY&quot;, &quot;ONE APPLE PARK WA~
## $ mailing_address_2           &lt;chr&gt; &quot;CUPERTINO CA 95014&quot;, &quot;CUPERTINO CA 95014&quot;, &quot;CUPERTINO CA 9501~
## $ mailing_address_3           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ mailing_address_4           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ business_address_1          &lt;chr&gt; &quot;ONE APPLE PARK WAY&quot;, &quot;ONE APPLE PARK WAY&quot;, &quot;ONE APPLE PARK WA~
## $ business_address_2          &lt;chr&gt; &quot;CUPERTINO CA 95014&quot;, &quot;CUPERTINO CA 95014&quot;, &quot;CUPERTINO CA 9501~
## $ business_address_3          &lt;chr&gt; &quot;(408) 996-1010&quot;, &quot;(408) 996-1010&quot;, &quot;(408) 996-1010&quot;, &quot;(408) 9~
## $ business_address_4          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
## $ company_name                &lt;chr&gt; &quot;Apple Inc.&quot;, &quot;Apple Inc.&quot;, &quot;Apple Inc.&quot;, &quot;Apple Inc.&quot;, &quot;Apple~
## $ company_cik                 &lt;chr&gt; &quot;0000320193&quot;, &quot;0000320193&quot;, &quot;0000320193&quot;, &quot;0000320193&quot;, &quot;00003~
## $ company_filings_href        &lt;chr&gt; &quot;https://www.sec.gov/cgi-bin/browse-edgar?CIK=0000320193&amp;actio~
## $ company_irs_number          &lt;chr&gt; &quot;942404110&quot;, &quot;942404110&quot;, &quot;942404110&quot;, &quot;942404110&quot;, &quot;942404110~
## $ company_incorporation_state &lt;chr&gt; &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;C~
## $ company_fiscal_year_end     &lt;chr&gt; &quot;0926&quot;, &quot;0926&quot;, &quot;0926&quot;, &quot;0926&quot;, &quot;0926&quot;, &quot;0926&quot;, &quot;0926&quot;, &quot;0926&quot;~
## $ filing_type                 &lt;chr&gt; &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;~
## $ filing_act                  &lt;chr&gt; &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;34&quot;, &quot;3~
## $ file_number_href            &lt;chr&gt; &quot;https://www.sec.gov/cgi-bin/browse-edgar?filenum=001-36743&amp;ac~
## $ file_number                 &lt;chr&gt; &quot;001-36743&quot;, &quot;001-36743&quot;, &quot;001-36743&quot;, &quot;001-36743&quot;, &quot;001-36743~
## $ film_number                 &lt;chr&gt; &quot;201273977&quot;, &quot;201273977&quot;, &quot;201273977&quot;, &quot;201273977&quot;, &quot;201273977~
## $ sic_code                    &lt;chr&gt; &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;~
## $ sic_href                    &lt;chr&gt; &quot;https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&amp;SI~</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(tab_details)</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>tab_details <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(period_date)) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(type.x, year) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> type.x, </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> n, </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sort =</span> <span class="cn">TRUE</span>,</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_fill =</span> <span class="dv">0</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<pre><code>## # A tibble: 29 x 5
## # Groups:   year [29]
##     year `10-K` `10-K/A` `10-K405` `10-K405/A`
##    &lt;dbl&gt;  &lt;int&gt;    &lt;int&gt;     &lt;int&gt;       &lt;int&gt;
##  1  1993    780      124         0           0
##  2  1994    855      185       347          28
##  3  1995    900      142       469          28
##  4  1996    938      106       491         109
##  5  1997    929       74       696         149
##  6  1998   1020      111       464          72
##  7  1999   1056       92       572          42
##  8  2000   1058       80       611          97
##  9  2001    875      147       812          10
## 10  2002   2258      232         0           0
## # ... with 19 more rows</code></pre>
<h2 id="select-documents-for-download">Select Documents for Download</h2>
<p>In order to reduce the amount of documents we download, we pre-select specific documents.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>tab_download <span class="ot">&lt;-</span> tab_details <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="fu">select</span>(tab_filings, symbol, id), <span class="at">by =</span> <span class="st">&quot;id&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">file_ext =</span> tools<span class="sc">::</span><span class="fu">file_ext</span>(href),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(period_date),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> size <span class="sc">/</span> <span class="fl">1e6</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">where</span>(is.character), <span class="sc">~</span> <span class="fu">stri_replace_all_regex</span>(., <span class="st">&quot;[[:blank:]]+&quot;</span>, <span class="st">&quot; &quot;</span>)),</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(type.y, description.y), <span class="sc">~</span> <span class="fu">if_else</span>(. <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot; &quot;</span>), <span class="cn">NA_character_</span>, .))</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, document, <span class="at">state =</span> company_incorporation_state, </span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">sic =</span> sic_code, year, symbol, company_name, company_cik, </span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">type1 =</span> type.x, <span class="at">type2 =</span> type.y, <span class="at">desc =</span> description.y, </span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>         period_date, href, size, file_ext) <span class="sc">%&gt;%</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">between</span>(year, <span class="dv">2005</span>, <span class="dv">2020</span>))</span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(tab_download, <span class="dv">100</span>)</span></code></pre></div>
<pre><code>## Rows: 31,736
## Columns: 15
## $ id           &lt;chr&gt; &quot;0000320193-20-000096-index&quot;, &quot;0000320193-20-000096-index&quot;, &quot;0000320193-20-00~
## $ document     &lt;chr&gt; &quot;aapl-20200926.htm&quot;, &quot;a10-kexhibit419262020.htm&quot;, &quot;a10-kexhibit10169262020.ht~
## $ state        &lt;chr&gt; &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;, &quot;CA&quot;,~
## $ sic          &lt;chr&gt; &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571&quot;, &quot;3571~
## $ year         &lt;dbl&gt; 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020,~
## $ symbol       &lt;chr&gt; &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL&quot;, &quot;AAPL~
## $ company_name &lt;chr&gt; &quot;Apple Inc.&quot;, &quot;Apple Inc.&quot;, &quot;Apple Inc.&quot;, &quot;Apple Inc.&quot;, &quot;Apple Inc.&quot;, &quot;Apple ~
## $ company_cik  &lt;chr&gt; &quot;0000320193&quot;, &quot;0000320193&quot;, &quot;0000320193&quot;, &quot;0000320193&quot;, &quot;0000320193&quot;, &quot;000032~
## $ type1        &lt;chr&gt; &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K&quot;, &quot;10-K~
## $ type2        &lt;chr&gt; &quot;10-K&quot;, &quot;EX-4.1&quot;, &quot;EX-10.16&quot;, &quot;EX-10.17&quot;, &quot;EX-21.1&quot;, &quot;EX-23.1&quot;, &quot;EX-31.1&quot;, &quot;E~
## $ desc         &lt;chr&gt; &quot;10-K&quot;, &quot;EX-4.1&quot;, &quot;EX-10.16&quot;, &quot;EX-10.17&quot;, &quot;EX-21.1&quot;, &quot;EX-23.1&quot;, &quot;EX-31.1&quot;, &quot;E~
## $ period_date  &lt;dttm&gt; 2020-09-26, 2020-09-26, 2020-09-26, 2020-09-26, 2020-09-26, 2020-09-26, 2020~
## $ href         &lt;chr&gt; &quot;https://www.sec.gov/Archives/edgar/data/320193/000032019320000096/aapl-20200~
## $ size         &lt;dbl&gt; 2.467306, 0.123356, 0.056918, 0.074685, 0.009230, 0.005991, 0.010582, 0.01061~
## $ file_ext     &lt;chr&gt; &quot;htm&quot;, &quot;htm&quot;, &quot;htm&quot;, &quot;htm&quot;, &quot;htm&quot;, &quot;htm&quot;, &quot;htm&quot;, &quot;htm&quot;, &quot;htm&quot;, &quot;jpg&quot;, &quot;jpg&quot;, ~</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>tab_download <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(type1, year) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> type1, </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> n, </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sort =</span> <span class="cn">TRUE</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_fill =</span> <span class="dv">0</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 16 x 3
## # Groups:   year [16]
##     year `10-K` `10-K/A`
##    &lt;dbl&gt;  &lt;int&gt;    &lt;int&gt;
##  1  2005   1357       62
##  2  2006   1455       63
##  3  2007   1401      124
##  4  2008   1629       87
##  5  2009   1844       31
##  6  2010   1896       58
##  7  2011   1969       22
##  8  2012   1950       74
##  9  2013   1970       15
## 10  2014   1907       24
## 11  2015   2326       28
## 12  2016   2268       18
## 13  2017   2200       58
## 14  2018   2193       22
## 15  2019   2308       22
## 16  2020   2337       18</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>.tmp <span class="ot">&lt;-</span> tab_download <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">size =</span> <span class="fu">sum</span>(size), <span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>.geom_size <span class="ot">&lt;-</span> .tmp <span class="sc">%&gt;%</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> size)) <span class="sc">+</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span> </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span> </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Size per Year (in MB)&quot;</span>)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>.geom_n <span class="ot">&lt;-</span> .tmp <span class="sc">%&gt;%</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span> </span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span> </span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Number of Documents per year&quot;</span>)</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>.geom_size <span class="sc">/</span> .geom_n</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>tab_download_txt <span class="ot">&lt;-</span> tab_download <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(file_ext <span class="sc">==</span> <span class="st">&quot;txt&quot;</span>, desc <span class="sc">==</span> <span class="st">&quot;Complete submission text file&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(symbol, <span class="fu">desc</span>(year), <span class="fu">desc</span>(period_date)) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(symbol, year, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(document, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste0</span>(</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Docs: &quot;</span>, <span class="fu">comma</span>(<span class="fu">nrow</span>(tab_download_txt)), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Size: &quot;</span>, <span class="fu">comma</span>(<span class="fu">sum</span>(tab_download_txt<span class="sc">$</span>size)), <span class="st">&quot; MB&quot;</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Docs: 1,327
## Size: 28,347 MB</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>tab_download_htm <span class="ot">&lt;-</span> tab_download <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">startsWith</span>(file_ext, <span class="st">&quot;htm&quot;</span>), <span class="fu">grepl</span>(<span class="st">&quot;10-K&quot;</span>, desc)) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(symbol, <span class="fu">desc</span>(year), <span class="fu">desc</span>(period_date)) <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(symbol, year, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(document, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste0</span>(</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Docs: &quot;</span>, <span class="fu">comma</span>(<span class="fu">nrow</span>(tab_download_htm)), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Size: &quot;</span>, <span class="fu">comma</span>(<span class="fu">sum</span>(tab_download_htm<span class="sc">$</span>size)), <span class="st">&quot; MB&quot;</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Docs: 967
## Size: 3,728 MB</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>tab_download_xxx <span class="ot">&lt;-</span> tab_download <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">startsWith</span>(file_ext, <span class="st">&quot;x&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(symbol, <span class="fu">desc</span>(year), <span class="fu">desc</span>(period_date)) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(document, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste0</span>(</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Docs: &quot;</span>, <span class="fu">comma</span>(<span class="fu">nrow</span>(tab_download_xxx)), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Size: &quot;</span>, <span class="fu">comma</span>(<span class="fu">sum</span>(tab_download_xxx<span class="sc">$</span>size)), <span class="st">&quot; MB&quot;</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Docs: 6,049
## Size: 9,511 MB</code></pre>
<h2 id="download-documents">Download Documents</h2>
<p>Again we use a custom function <strong>download_edgar_files()</strong> to download the documents.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>.dir_docs <span class="ot">&lt;-</span> <span class="st">&quot;2_output/01_get_edgar_data/documents/&quot;</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>tab_xxx <span class="ot">&lt;-</span> <span class="fu">download_edgar_files</span>(tab_download_xxx, .dir_docs, <span class="dv">10</span>, <span class="dv">2</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>tab_htm <span class="ot">&lt;-</span> <span class="fu">download_edgar_files</span>(tab_download_htm, .dir_docs, <span class="dv">10</span>, <span class="dv">2</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>tab_txt <span class="ot">&lt;-</span> <span class="fu">download_edgar_files</span>(tab_download_txt, .dir_docs, <span class="dv">10</span>, <span class="dv">2</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>tab_zip_files <span class="ot">&lt;-</span> <span class="fu">list_files_tab</span>(.dir_docs, <span class="at">info =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(doc_id, file_ext, path, size) <span class="sc">%&gt;%</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">size =</span> size <span class="sc">/</span> <span class="fl">1e6</span>)</span></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">paste0</span>(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Docs: &quot;</span>, <span class="fu">comma</span>(<span class="fu">nrow</span>(tab_zip_files)), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Size: &quot;</span>, <span class="fu">comma</span>(<span class="fu">sum</span>(tab_zip_files<span class="sc">$</span>size)), <span class="st">&quot; MB&quot;</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Docs: 3,298
## Size: 3,768 MB</code></pre>
<h2 id="save-files">Save Files</h2>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(tab_download_htm, <span class="st">&quot;2_output/01_get_edgar_data/htm_download.rds&quot;</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(tab_download_txt, <span class="st">&quot;2_output/01_get_edgar_data/txt_download.rds&quot;</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(tab_download_xxx, <span class="st">&quot;2_output/01_get_edgar_data/xxx_download.rds&quot;</span>)</span></code></pre></div>

</body>
</html>
